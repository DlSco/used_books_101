<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.usedBooks.mapper.OrderMapper">
  <!--   -->
  <!--  @authorVakoe  -->
  <!--  @date2019年02月18日 14:06 -->
  <sql id="baseSearchSql">
    <if test="buyerPhone != null">
        and buyer_phone = #{buyerPhone , jdbcType=VARCHAR}
    </if>
    <if test="sellerPhone != null">
        and seller_phone = #{sellerPhone , jdbcType=VARCHAR}
    </if>
    <if test="orderNumber != null">
        and order_number = #{orderNumber , jdbcType=VARCHAR}
    </if>
    <if test="buyer != null">
        and buyer = #{buyer , jdbcType=VARCHAR}
    </if>
    <if test="buyerId != null">
        and buyer_id = #{buyerId , jdbcType=INTEGER}
    </if>
    <if test="seller != null">
        and seller = #{seller , jdbcType=VARCHAR}
    </if>
    <if test="sellerId != null">
        and seller_id = #{sellerId , jdbcType=INTEGER}
    </if>
    <if test="time != null">
        and time = #{time , jdbcType=TIMESTAMP}
    </if>
    <if test="orderAmount != null">
        and order_amount = #{orderAmount , jdbcType=DOUBLE}
    </if>
    <if test="actualAmount != null">
        and actual_amount = #{actualAmount , jdbcType=DOUBLE}
    </if>
    <if test="deliveryMethod != null">
        and delivery_method = #{deliveryMethod , jdbcType=VARCHAR}
    </if>
    <if test="state != null">
        and state = #{state , jdbcType=INTEGER}
    </if>
    <if test="isCancel != null">
        and is_cancel = #{isCancel , jdbcType=INTEGER}
    </if>
    <if test="isValid != null">
        and is_valid = #{isValid , jdbcType=INTEGER}
    </if>

  </sql>
  <resultMap id="BaseResultMap" type="com.usedBooks.pojo.Order">
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="buyer_phone" jdbcType="VARCHAR" property="buyerPhone" />
    <result column="seller_phone" jdbcType="VARCHAR" property="sellerPhone" />
    <result column="order_number" jdbcType="VARCHAR" property="orderNumber" />
    <result column="buyer" jdbcType="VARCHAR" property="buyer" />
    <result column="buyer_id" jdbcType="INTEGER" property="buyerId" />
    <result column="seller" jdbcType="VARCHAR" property="seller" />
    <result column="seller_id" jdbcType="INTEGER" property="sellerId" />
    <result column="time" jdbcType="TIMESTAMP" property="time" />
    <result column="order_amount" jdbcType="DOUBLE" property="orderAmount" />
    <result column="actual_amount" jdbcType="DOUBLE" property="actualAmount" />
    <result column="delivery_method" jdbcType="VARCHAR" property="deliveryMethod" />
    <result column="state" jdbcType="INTEGER" property="state" />
    <result column="is_cancel" jdbcType="INTEGER" property="isCancel" />
    <result column="is_valid" jdbcType="INTEGER" property="isValid" />
  </resultMap>
  <sql id="Base_Column_List">
    id, buyer_phone, seller_phone, order_number, buyer, buyer_id, seller, seller_id, 
    time , order_amount, actual_amount, delivery_method, state, is_cancel, is_valid
  </sql>
  <!--   -->
  <!--  @authorVakoe  -->
  <!--  @date2019年02月18日 14:06 -->
  <select id="countByOrder" parameterType="com.usedBooks.pojo.Order" resultType="java.lang.Long">
    select count(*) from order_form
    <where>
      <include refid="baseSearchSql" />
    </where>
  </select>
  <!--   -->
  <!--  @authorVakoe  -->
  <!--  @date2019年02月18日 14:06 -->
  <select id="selectWithRowbounds" parameterType="com.usedBooks.pojo.Order" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from order
    <where>
      <include refid="baseSearchSql" />
    </where>
  </select>
  <select id="getList" parameterType="Map" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from order_form
    <where>
      <include refid="baseSearchSql" />
      <if test="key != null and key != '' and value != null">
        and ${key} = #{value}
      </if>
    </where>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from order_form
    where id = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    delete from order_form
    where id = #{id,jdbcType=INTEGER}
  </delete>
  <!--   -->
  <!--  @authorVakoe  -->
  <!--  @date2019年02月18日 14:06 -->
  <delete id="deleteByOrder" parameterType="com.usedBooks.pojo.Order">
    delete from order_form
    <where>
      <include refid="baseSearchSql" />
    </where>
  </delete>
  <insert id="insert" parameterType="com.usedBooks.pojo.Order" useGeneratedKeys="true" keyProperty="id">
    insert into order_form (id, buyer_phone, seller_phone,
      order_number, buyer, buyer_id, 
      seller, seller_id, time, 
      order_amount, actual_amount, delivery_method, 
      state, is_cancel, is_valid
      )
    values (#{id,jdbcType=INTEGER}, #{buyerPhone,jdbcType=VARCHAR}, #{sellerPhone,jdbcType=VARCHAR}, 
      #{orderNumber,jdbcType=VARCHAR}, #{buyer,jdbcType=VARCHAR}, #{buyerId,jdbcType=INTEGER}, 
      #{seller,jdbcType=VARCHAR}, #{sellerId,jdbcType=INTEGER}, #{time,jdbcType=TIMESTAMP}, 
      #{orderAmount,jdbcType=DOUBLE}, #{actualAmount,jdbcType=DOUBLE}, #{deliveryMethod,jdbcType=VARCHAR}, 
      #{state,jdbcType=INTEGER}, #{isCancel,jdbcType=INTEGER}, #{isValid,jdbcType=INTEGER}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.usedBooks.pojo.Order">
    insert into order_form
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        id,
      </if>
      <if test="buyerPhone != null">
        buyer_phone,
      </if>
      <if test="sellerPhone != null">
        seller_phone,
      </if>
      <if test="orderNumber != null">
        order_number,
      </if>
      <if test="buyer != null">
        buyer,
      </if>
      <if test="buyerId != null">
        buyer_id,
      </if>
      <if test="seller != null">
        seller,
      </if>
      <if test="sellerId != null">
        seller_id,
      </if>
      <if test="time != null">
        time,
      </if>
      <if test="orderAmount != null">
        order_amount,
      </if>
      <if test="actualAmount != null">
        actual_amount,
      </if>
      <if test="deliveryMethod != null">
        delivery_method,
      </if>
      <if test="state != null">
        state,
      </if>
      <if test="isCancel != null">
        is_cancel,
      </if>
      <if test="isValid != null">
        is_valid,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=INTEGER},
      </if>
      <if test="buyerPhone != null">
        #{buyerPhone,jdbcType=VARCHAR},
      </if>
      <if test="sellerPhone != null">
        #{sellerPhone,jdbcType=VARCHAR},
      </if>
      <if test="orderNumber != null">
        #{orderNumber,jdbcType=VARCHAR},
      </if>
      <if test="buyer != null">
        #{buyer,jdbcType=VARCHAR},
      </if>
      <if test="buyerId != null">
        #{buyerId,jdbcType=INTEGER},
      </if>
      <if test="seller != null">
        #{seller,jdbcType=VARCHAR},
      </if>
      <if test="sellerId != null">
        #{sellerId,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        #{time,jdbcType=TIMESTAMP},
      </if>
      <if test="orderAmount != null">
        #{orderAmount,jdbcType=DOUBLE},
      </if>
      <if test="actualAmount != null">
        #{actualAmount,jdbcType=DOUBLE},
      </if>
      <if test="deliveryMethod != null">
        #{deliveryMethod,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        #{state,jdbcType=INTEGER},
      </if>
      <if test="isCancel != null">
        #{isCancel,jdbcType=INTEGER},
      </if>
      <if test="isValid != null">
        #{isValid,jdbcType=INTEGER},
      </if>
    </trim>
  </insert>
  <!--   -->
  <!--  @authorVakoe  -->
  <!--  @date2019年02月18日 14:06 -->
  <update id="updateByOrderSelective">
    update order_form
    <set>
      <if test="id != null">
        id = #{id,jdbcType=INTEGER},
      </if>
      <if test="buyerPhone != null">
        buyer_phone = #{buyerPhone,jdbcType=VARCHAR},
      </if>
      <if test="sellerPhone != null">
        seller_phone = #{sellerPhone,jdbcType=VARCHAR},
      </if>
      <if test="orderNumber != null">
        order_number = #{orderNumber,jdbcType=VARCHAR},
      </if>
      <if test="buyer != null">
        buyer = #{buyer,jdbcType=VARCHAR},
      </if>
      <if test="buyerId != null">
        buyer_id = #{buyerId,jdbcType=INTEGER},
      </if>
      <if test="seller != null">
        seller = #{seller,jdbcType=VARCHAR},
      </if>
      <if test="sellerId != null">
        seller_id = #{sellerId,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        time = #{time,jdbcType=TIMESTAMP},
      </if>
      <if test="orderAmount != null">
        order_amount = #{orderAmount,jdbcType=DOUBLE},
      </if>
      <if test="actualAmount != null">
        actual_amount = #{actualAmount,jdbcType=DOUBLE},
      </if>
      <if test="deliveryMethod != null">
        delivery_method = #{deliveryMethod,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        state = #{state,jdbcType=INTEGER},
      </if>
      <if test="isCancel != null">
        is_cancel = #{isCancel,jdbcType=INTEGER},
      </if>
      <if test="isValid != null">
        is_valid = #{isValid,jdbcType=INTEGER},
      </if>
    </set>
    <where>
      <include refid="baseSearchSql" />
    </where>
  </update>
  <!--   -->
  <!--  @authorVakoe  -->
  <!--  @date2019年02月18日 14:06 -->
  <update id="updateByOrder">
    update order_form
    set id = #{id,jdbcType=INTEGER},
      buyer_phone = #{buyerPhone,jdbcType=VARCHAR},
      seller_phone = #{sellerPhone,jdbcType=VARCHAR},
      order_number = #{orderNumber,jdbcType=VARCHAR},
      buyer = #{buyer,jdbcType=VARCHAR},
      buyer_id = #{buyerId,jdbcType=INTEGER},
      seller = #{seller,jdbcType=VARCHAR},
      seller_id = #{sellerId,jdbcType=INTEGER},
      time = #{time,jdbcType=TIMESTAMP},
      order_amount = #{orderAmount,jdbcType=DOUBLE},
      actual_amount = #{actualAmount,jdbcType=DOUBLE},
      delivery_method = #{deliveryMethod,jdbcType=VARCHAR},
      state = #{state,jdbcType=INTEGER},
      is_cancel = #{isCancel,jdbcType=INTEGER},
      is_valid = #{isValid,jdbcType=INTEGER}
    <where>
      <include refid="baseSearchSql" />
    </where>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="com.usedBooks.pojo.Order">
    update order_form
    <set>
      <if test="buyerPhone != null">
        buyer_phone = #{buyerPhone,jdbcType=VARCHAR},
      </if>
      <if test="sellerPhone != null">
        seller_phone = #{sellerPhone,jdbcType=VARCHAR},
      </if>
      <if test="orderNumber != null">
        order_number = #{orderNumber,jdbcType=VARCHAR},
      </if>
      <if test="buyer != null">
        buyer = #{buyer,jdbcType=VARCHAR},
      </if>
      <if test="buyerId != null">
        buyer_id = #{buyerId,jdbcType=INTEGER},
      </if>
      <if test="seller != null">
        seller = #{seller,jdbcType=VARCHAR},
      </if>
      <if test="sellerId != null">
        seller_id = #{sellerId,jdbcType=INTEGER},
      </if>
      <if test="time != null">
        time = #{time,jdbcType=TIMESTAMP},
      </if>
      <if test="orderAmount != null">
        order_amount = #{orderAmount,jdbcType=DOUBLE},
      </if>
      <if test="actualAmount != null">
        actual_amount = #{actualAmount,jdbcType=DOUBLE},
      </if>
      <if test="deliveryMethod != null">
        delivery_method = #{deliveryMethod,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        state = #{state,jdbcType=INTEGER},
      </if>
      <if test="isCancel != null">
        is_cancel = #{isCancel,jdbcType=INTEGER},
      </if>
      <if test="isValid != null">
        is_valid = #{isValid,jdbcType=INTEGER},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.usedBooks.pojo.Order">
    update order_form
    set buyer_phone = #{buyerPhone,jdbcType=VARCHAR},
      seller_phone = #{sellerPhone,jdbcType=VARCHAR},
      order_number = #{orderNumber,jdbcType=VARCHAR},
      buyer = #{buyer,jdbcType=VARCHAR},
      buyer_id = #{buyerId,jdbcType=INTEGER},
      seller = #{seller,jdbcType=VARCHAR},
      seller_id = #{sellerId,jdbcType=INTEGER},
      time = #{time,jdbcType=TIMESTAMP},
      order_amount = #{orderAmount,jdbcType=DOUBLE},
      actual_amount = #{actualAmount,jdbcType=DOUBLE},
      delivery_method = #{deliveryMethod,jdbcType=VARCHAR},
      state = #{state,jdbcType=INTEGER},
      is_cancel = #{isCancel,jdbcType=INTEGER},
      is_valid = #{isValid,jdbcType=INTEGER}
    where id = #{id,jdbcType=INTEGER}
  </update>
</mapper>